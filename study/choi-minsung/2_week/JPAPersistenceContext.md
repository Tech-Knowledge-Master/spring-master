# JPA Persistence Context
## Persistence Context
영속성 컨텍스트란 인스턴스로 존재하는 엔티티를 관리하고 영속화시키는 논리적 영역 입니다.

영속성 컨텍스트는 크게 **1차 캐쉬 저장소**, **쿼리문 저장소**로 구분되어 있다.

### 1차 캐시 저장소
영속성 컨텍스트가 관리하는 엔티티 정보를 보관합니다. 이 상태를 '영속 상태' 라고 합니다. 다시 한번 강조하지만 '영속 상태'는 아직 DB에 저장된 상태는 아닙니다. 단순히 영속성 컨텍스트에서 관리(managed)하는 상태일 뿐입니다.

### 쿼리문 저장소 (SQL 저장소)
JPA는 필요한 쿼리문(SQL)을 보관해둡니다. 최대한 여러 쿼리문을 모아두고, DB에 접근하는 횟수를 최소화하게되면 성능상에 이점을 얻을 수 있기 때문입니다. 저장해둔 쿼리문으로 DB에게 접근하는 행위는 엔티티 매니저의 '플러시 flush()'로 진행합니다.

이렇게 JPA는 DB 접근 비중을 줄여 서버의 속도를 증가시킵니다. 또한 Lazy Loading을 제공하여 실제 DB와 객체간의 통신의 속도를 크게 증가시킵니다.

### 참고 자료
- https://siyoon210.tistory.com/138#recentComments
- https://velog.io/@lshlovejys/%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%99%80-%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0
- 